<style>
  body {
    font-size: 0.85rem;
  }
  .form-control {
    border: 1px solid #9e9e9e !important;
    box-shadow: none !important;
    padding: 3px 6px !important;
    font-size: 0.85rem;
  }
  .form-check-input {
    border-color: #737373 !important;
    width: 0.9em;
    height: 0.9em;
  }
  .form-check-input:checked {
    background-color: #000000 !important;
    border-color: #000000 !important;
  }
  label,
  .form-check-label {
    font-size: 0.85rem;
  }
  h4 {
    font-size: 1rem;
    margin-top: 0.5rem !important;
    margin-bottom: 0.5rem !important;
  }
  .mb-3 {
    margin-bottom: 0.5rem !important;
  }
  .mt-4 {
    margin-top: 0.5rem !important;
  }
  .card {
    margin-bottom: 0.75rem !important;
    padding: 1rem !important;
  }
  .btn {
    font-size: 0.85rem;
    padding: 0.3rem 0.75rem;
  }
</style>
<form>
  <div class="card p-4">
    <!-- 1. Personal Information -->
    <h4>Personal Information</h4>
    <div class="row">
      <!-- Profile Picture -->
      <div class="mb-3 text-left">
        <!--<img src="" alt="Profile Picture" class="rounded-circle mb-3 profile-img">-->
        <label>Profile photo</label>
        <input type="file" class="form-control-file" id="profilePic">
      </div>
      <div class="col-md-6 mb-3">
        <label>Full Name</label><input type="text" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label class="form-label d-block">Gender</label>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="gender"
            value="Male"
          /><label class="form-check-label">Male</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="gender"
            value="Female"
          /><label class="form-check-label">Female</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="gender"
            value="Other"
          /><label class="form-check-label">Other</label>
        </div>
      </div>
      <div class="col-md-6 mb-3">
        <label>IC Number / Passport Number</label><input type="text" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Date of Birth</label><input type="date" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label for="nationality">Nationality</label>
        <select id="nationality" class="form-control">
            <option value="" disabled selected>Select Nationality</option>
            <option value="citizen">Citizen</option>
            <option value="noncitizen">Non-Citizen</option>
            <!-- Add more countries as needed -->
        </select>
    </div>
    <!--Race-->
    <div class="col-md-6 mb-3">
        <label for="race">Race</label>
        <select id="race" class="form-control">
            <option value="" disabled selected>Select Race</option>
            <option value="Malay">Malay</option>
            <option value="China">China</option>
            <option value="India">India</option>
            <option value="Others">Others</option>
            <!-- Add more countries as needed -->
        </select>
    </div>
    <!--Religion-->
    <div class="col-md-6 mb-3">
      <label for="religion">Religion</label>
      <select id="religion" class="form-control">
          <option value="" disabled selected>Select Religion</option>
          <option value="Islam">Islam</option>
          <option value="Hindu">Hindu</option>
          <option value="Buddha">Buddha</option>
          <option value="Christian">Christian</option>
          <option value="Others">Others</option>
          <!-- Add more countries as needed -->
      </select>
  </div>
      
      <div class="col-md-6 mb-3">
        <label for="dob">Date of Birth</label>
        <input type="text" id="dob" class="form-control" placeholder="Select Date" />
    </div>
    
    <script>
        // Initialize flatpickr
        flatpickr("#dob", {
            dateFormat: "Y-m-d", // Set date format
            minDate: "1900-01-01", // Minimum selectable date
            maxDate: "today", // Maximum selectable date
        });
    </script>
    
      <div class="col-md-6 mb-3">
        <label>Contact Number</label><input type="text" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Email Address</label><input type="email" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Emergency Contact Name</label
        ><input type="text" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Emergency Contact Number</label
        ><input type="text" class="form-control" />
      </div>
    </div>
  </div>
  <div class="card p-4">
    <!-- 2. Address Information -->
    <h4 class="mt-4">Address Information</h4>
    <div class="row">
      <div class="col-md-12 mb-3">
        <label>Permanent Address</label
        ><input type="text" class="form-control" />
      </div>
      <div class="col-md-4 mb-3">
        <label>City</label><input type="text" class="form-control" />
      </div>
      <div class="col-md-4 mb-3">
        <label>Postcode</label><input type="text" class="form-control" />
      </div>
      <div class="col-md-4 mb-3">
        <label>State</label><input type="text" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Phone Number (if different)</label
        ><input type="text" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Address in Home Country</label
        ><input type="text" class="form-control" />
      </div>
      <div class="col-md-4 mb-3">
        <label>City</label><input type="text" class="form-control" />
      </div>
      <div class="col-md-4 mb-3">
        <label>Country</label><input type="text" class="form-control" />
      </div>
      <div class="col-md-4 mb-3">
        <label>Postal Code</label><input type="text" class="form-control" />
      </div>
    </div>
  </div>
  <div class="card p-4">
    <!-- 3. Program Information -->
    <h4 class="mt-4">Program Information</h4>
    <div class="row">
      <div class="col-md-6 mb-3">
        <label for="religion">Program Applied For</label>
        <select id="programstatus" class="form-control">
            <option value="" disabled selected>Select Program Status</option>
            <option value="diploma">Diploma</option>
            <option value="degree">Degree</option>
            <option value="master">Master</option>
            <option value="phd">PHD</option>
            <option value="Others">Others</option>
            <!-- Add more countries as needed -->
        </select>
      
    </div>

      <!--Program-->
      <div class="col-md-6 mb-3">
        <label for="religion">Program</label>
        <select id="programstatus" class="form-control">
            <option value="" disabled selected>Select Program</option>
            <option value="bib">Bachelor of Business (HONS) International Business</option>
            <option value="saab">Bachelor of Business (HONS) Engineering Entrepreneurship</option>
            <option value="opel">Bachelor of New Media Communications (HONS)</option>
            <option value="audi">Bachelor of Computer Engineering (HONS)</option>
            <!-- Add more countries as needed -->
        </select>
      
    </div>
    
      <div class="col-md-6 mb-3">
        <label class="form-label d-block">Mode of Study</label>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="studyMode"
            value="Full-Time"
          /><label class="form-check-label">Full-Time</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="studyMode"
            value="Part-Time"
            disabled
          /><label class="form-check-label">Part-Time</label>
        </div>
      </div>
       <!--Intake Year -->
       <div class="col-md-6 mb-3">
        <label for="Intake">Intake</label>
        <select id="Intakeyear" class="form-control">
            <option value="" disabled selected>Select Year</option>
            <option value="2023">2023</option>
            <option value="2024">2024</option>
            <option value="2025">2025</option>
            <option value="2026">2026</option>
            <option value="2027">2027</option>
            <option value="2028">2028</option>
            <option value="2029">2029</option>
            <option value="2030">2030</option>
            <!-- Add more countries as needed -->
        </select>
      
    </div>
     
      <div class="col-md-6 mb-3">
        <label class="form-label d-block">Semester</label>
  
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="semester"
            value="March"
          /><label class="form-check-label">March</label>
        </div>
        
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="semester"
            value="October"
          /><label class="form-check-label">October</label>
        </div>
      </div>
    </div>
  </div>
  <div class="card p-4">
    <!-- 4. Academic Qualifications -->
    <h4 class="mt-4">Academic Qualifications</h4>
    <div class="row">
      <div class="col-md-6 mb-3">
        <label for="hqo">Highest Qualification Obtained</label>
        <select id="Intakeyear" class="form-control">
            <option value="" disabled selected>Select Qualification</option>
            <option value="PMR">PMR</option>
            <option value="SPM">SPM</option>
            <option value="DIPLOMA">DIPLOMA</option>
            <option value="DEGREE">DEGREE</option>
            <option value="MASTER">MASTER</option>
            <option value="PHD">PHD</option>
            <option value="OTHERS">OTHERS</option>
            <!-- Add more countries as needed -->
        </select>
      
    </div>
      <div class="col-md-6 mb-3">
        <label>Institution Name</label
        ><input type="text" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Country of Institution</label
        ><input type="text" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Year of Graduation</label
        ><input type="text" class="form-control" />
      </div>
      <!-- Certificate -->
      <div class="mb-3 text-center">
        <!--<img src="" alt="Result" class="rounded-circle mb-3 profile-img">-->
        <label>Result</label>
        <input type="file" class="form-control-file" id="ResultQualification" accept=".jpg, .jpeg, .png">
        <small id="fileHelp" class="form-text text-muted"></small>
        
        <script>
          document.getElementById('ResultQualification').addEventListener('change', function () {
            const file = this.files[0];
            const helpText = document.getElementById('fileHelp');
        
            if (file) {
              const fileSizeMB = file.size / (1024 * 1024); // Convert to MB
        
              if (fileSizeMB > 2) {
                helpText.textContent = "❌ File is too large. Max size is 2MB.";
                this.value = ""; // Clear the file input
              } else {
                helpText.textContent = "✅ File looks good!";
              }
            }
          });
        </script>
        <label>Certificate of completion studies</label>
        <!--<img src="" alt="Certificate of completion of studies" class="rounded-circle mb-3 profile-img">-->
        <input type="file" class="form-control-file" id="Certificate-completion-studies" accept=".jpg, .jpeg, .png">
        <small id="fileHelp" class="form-text text-muted"></small>
        
        <script>
          document.getElementById('Certificate-completion-studies').addEventListener('change', function () {
            const file = this.files[0];
            const helpText = document.getElementById('fileHelp');
        
            if (file) {
              const fileSizeMB = file.size / (1024 * 1024); // Convert to MB
        
              if (fileSizeMB > 2) {
                helpText.textContent = "❌ File is too large. Max size is 2MB.";
                this.value = ""; // Clear the file input
              } else {
                helpText.textContent = "✅ File looks good!";
              }
            }
          });
        </script>
      </div>
    </div>
  </div>
  <!-- Previous Education -->
   <div class="card p-4">
  <h4 class="mt-4">Previous Education</h4>
  <div class="row">
    <div class="col-md-6 mb-3">
      <label>Secondary School (Name & Address)</label
      ><input type="text" class="form-control" />
    </div>
    <div class="col-md-6 mb-3">
      <label for="hqo">Highest Qualification Obtained</label>
      <select id="Intakeyear" class="form-control">
          <option value="" disabled selected>Select Qualification</option>
          <option value="PMR">PMR</option>
          <option value="SPM">SPM</option>
          <option value="DIPLOMA">DIPLOMA</option>
          <option value="DEGREE">DEGREE</option>
          <option value="MASTER">MASTER</option>
          <option value="PHD">PHD</option>
          <option value="OTHERS">OTHERS</option>
          <!-- Add more countries as needed -->
      </select>
    
  </div>

</div>
    <div class="col-md-6 mb-3">
      <label>Higher Education Institution Name</label
      ><input type="text" class="form-control" />
    </div>
    
</div>
</div>
  <div class="card p-4">
    <!-- 5. English Proficiency -->
    <h4 class="mt-4">English Proficiency</h4>
    <div class="row">
      <div class="col-md-12 mb-3">
        <label class="form-label d-block">English Test Taken</label>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="englishTest"
            value="TOEFL"
          /><label class="form-check-label">TOEFL</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="englishTest"
            value="IELTS"
          /><label class="form-check-label">IELTS</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="englishTest"
            value="Other"
          /><label class="form-check-label">Other (specify)</label>
        </div>
        <input
          type="text"
          class="form-control mt-2"
          placeholder="Specify other test"
        />
      </div>
      <div class="col-md-6 mb-3">
        <label>Score</label><input type="text" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Test Date</label><input type="date" class="form-control" />
      </div>
      <!-- Certificate -->
      <div class="mb-3 text-left">
        <!--<img src="" alt="Result" class="rounded-circle mb-3 profile-img">-->
        <label>Result English</label>
        <input type="file" class="form-control-file" id="ResultEnglish"accept=".jpg, .jpeg, .png">
        <small id="fileHelp" class="form-text text-muted"></small>
        
        <script>
          document.getElementById('ResultEnglish').addEventListener('change', function () {
            const file = this.files[0];
            const helpText = document.getElementById('fileHelp');
        
            if (file) {
              const fileSizeMB = file.size / (1024 * 1024); // Convert to MB
        
              if (fileSizeMB > 2) {
                helpText.textContent = "❌ File is too large. Max size is 2MB.";
                this.value = ""; // Clear the file input
              } else {
                helpText.textContent = "✅ File looks good!";
              }
            }
          });
        </script>
      </div>
    </div>
  </div>
  <div class="card p-4">
    <!-- 6. Visa Information -->
    <h4 class="mt-4">Visa Information (International Students)</h4>
    <div class="row">
      <div class="col-md-6 mb-3">
        <label class="form-label d-block">Require Student Visa?</label>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="requireVisa"
            value="Yes"
          /><label class="form-check-label">Yes</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="requireVisa"
            value="No"
          /><label class="form-check-label">No</label>
        </div>
      </div>
      <div class="col-md-6 mb-3">
        <label class="form-label d-block">Type of Visa</label>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="visaType"
            value="Student Visa"
          /><label class="form-check-label">Student Visa</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="visaType"
            value="Dependent Visa"
          /><label class="form-check-label">Dependent Visa</label>
        </div>
      </div>
      <div class="col-md-6 mb-3">
        <label>Visa Expiry Date</label
        ><input type="date" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Passport Expiry Date</label
        ><input type="date" class="form-control" />
      </div>
     <!-- Thumbnail Image and File Input -->
<div class="mb-3 text-left">
  <img src="../assets/img/front page passport.png" 
       alt="First Page Visa" 
       class="mb-3 profile-img img-thumbnail zoomable" 
       style="width: 50px; cursor: pointer;" 
       data-bs-toggle="modal" 
       data-bs-target="#zoomModal">

  <input type="file" class="form-control-file" id="firstpage">
</div>

<!-- Modal for Zoomed Image -->
<div class="modal fade" id="zoomModal" tabindex="-1" aria-labelledby="zoomModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body text-center">
        <img src="../assets/img/front page passport.png" alt="Zoomed Image" class="img-fluid">
      </div>
    </div>
  </div>
</div>

    </div>
  </div>
  <div class="card p-4">
    <!-- 7. Health Information -->
    <h4 class="mt-4">Health Information</h4>
    <div class="row">
      <div class="mb-3">
        <label class="form-label">
          Please download the health declaration form, fill it out, and upload it here.
        </label><br>
        <a 
          href="../docs/Form A - Health Declaration Form For Applicant (PW).pdf" 
          download 
          class="btn btn-outline-primary mt-2"
          target="_blank"
        >
          📄 Download Health Declaration Form
        </a>
        <div class="mb-3 text-left">
          <!--<img src="" alt="Result" class="rounded-circle mb-3 profile-img">-->
          <label>Upload Here after you fill up the health Application</label>
          <input type="file" class="form-control-file" id="Healthdeclare"accept=".jpg, .jpeg, .png">
          <small id="fileHelp" class="form-text text-muted"></small>
          
          <script>
            document.getElementById('Healthdeclare').addEventListener('change', function () {
              const file = this.files[0];
              const helpText = document.getElementById('fileHelp');
          
              if (file) {
                const fileSizeMB = file.size / (1024 * 1024); // Convert to MB
          
                if (fileSizeMB > 2) {
                  helpText.textContent = "❌ File is too large. Max size is 2MB.";
                  this.value = ""; // Clear the file input
                } else {
                  helpText.textContent = "✅ File looks good!";
                }
              }
            });
          </script>
        </div>
  
      <div class="col-md-6 mb-3">
        <label class="form-label d-block">Any known medical conditions?</label>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="medicalConditions"
            id="medicalYes"
            value="Yes"
          />
          <label class="form-check-label" for="medicalYes">Yes</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="medicalConditions"
            value="No"
          /><label class="form-check-label">No</label>
        </div>
        <input
          type="text"
          class="form-control mt-2"
          placeholder="If yes, please specify"/>
      </div>
      <div class="col-md-6 mb-3">
        <label class="form-label d-block">Currently on any regular medication?</label>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="medication"
            value="Yes"
          /><label class="form-check-label">Yes</label>
        </div>  
    
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            name="medication"
            value="No"
          /><label class="form-check-label">No</label>
        </div>
        <input
          type="text"
          class="form-control mt-2"
          placeholder="If yes, please specify"
        />
      </div>
    </div>
  </div>
</div>
  <div class="card p-4">
    
  <div class="card p-4">
    <!-- 9. Parent/Guardian Information -->
    <h4 class="mt-4">Parent/Guardian Information</h4>
    <div class="row">
      <div class="col-md-6 mb-3">
        <label>Father's/Guardian's Name</label
        ><input type="text" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Occupation</label><input type="text" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Phone Number</label><input type="text" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Mother's/Guardian's Name</label
        ><input type="text" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Occupation</label><input type="text" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Phone Number</label><input type="text" class="form-control" />
      </div>
    </div>
  </div>
    <div class="card p-4">
      <!-- 10. PAYMENT RECEIPT -->
      <h4 class="mt-4">PAYMENT RECEIPT</h4>
      <div class="row">
        <div class="col-md-6 mb-3">
          <label>After applicant make a payment for RM128.00, please upload receipt here</label>
          <input type="file" class="form-control-file" id="PaymentChecking" accept=".jpg, .jpeg, .png">
          <small id="fileHelp" class="form-text text-muted"></small>
    <!--<br>
    <button type="submit">Upload</button>-->
  
  <script>
    const fileInput = document.getElementById('profilePic');
    const helpText = document.getElementById('fileHelp');
  
    let finalFile = null;
  
    fileInput.addEventListener('change', function () {
      const file = this.files[0];
      if (!file) return;
  
      if (!file.type.startsWith('image/')) {
        helpText.textContent = "❌ Please upload an image file.";
        return;
      }
  
      const maxSizeMB = 2;
      const maxSizeBytes = maxSizeMB * 1024 * 1024;
  
      if (file.size > maxSizeBytes) {
        // Compress image
        const reader = new FileReader();
        reader.onload = function (event) {
          const img = new Image();
          img.onload = function () {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
  
            const scaleFactor = Math.sqrt(maxSizeBytes / file.size); // adjust size
            canvas.width = img.width * scaleFactor;
            canvas.height = img.height * scaleFactor;
  
            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
  
            canvas.toBlob(function (blob) {
              finalFile = new File([blob], file.name, { type: file.type });
              helpText.textContent = `✅ Image compressed to ${(finalFile.size / 1024 / 1024).toFixed(2)} MB`;
            }, file.type, 0.8); // 0.8 = quality (80%)
          };
          img.src = event.target.result;
        };
        reader.readAsDataURL(file);
      } else {
        finalFile = file;
        helpText.textContent = "✅ File is under 2MB, no compression needed.";
      }
    });
  
    document.getElementById('uploadForm').addEventListener('submit', function (e) {
      e.preventDefault();
  
      if (!finalFile) {
        alert("Please select a valid image.");
        return;
      }
  
      // Upload using FormData (as example)
      const formData = new FormData();
      formData.append('file', finalFile);
  
      // Simulate upload
      console.log("Uploading:", finalFile);
      alert("✅ File ready to upload! (check console)");
  
      // You could now use fetch() or AJAX to send `formData` to your backend
    });
  </script>
        </div>
      </div>
    </div>
  <div class="card p-4">
    <!-- 10. Declaration -->
    <h4 class="mt-4">Declaration</h4>
    <div class="form-check mb-3">
      <input 
        class="form-check-input" 
        type="checkbox" 
        id="declarationCheck" 
        required
      >
      <label class="form-check-label" for="declarationCheck">
        I declare that the information provided is accurate.
      </label>
    </div>
    
    
      <div class="col-md-6 mb-3">
        <label>Date</label><input type="date" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Signature of Parent/Guardian (if applicable)</label
        ><input type="text" class="form-control" />
      </div>
      <div class="col-md-6 mb-3">
        <label>Date</label><input type="date" class="form-control" />
      </div>
    </div>
  </div>
  
  <div class="text-end mt-4">
    <button type="submit" class="btn bg-gradient-dark mb-0">Submit</button>
  </div>
</form>
